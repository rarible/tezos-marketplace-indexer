hasura:
  service:
    nodePort: 30139
  resources:
    limits:
      cpu: '2'
      memory: 2Gi
    requests:
      cpu: 400m
      memory: 512Mi
  environments:
    HASURA_GRAPHQL_EVENTS_FETCH_BATCH_SIZE: 100
    HASURA_GRAPHQL_LIVE_QUERIES_MULTIPLEXED_BATCH_SIZE: 100

tezos-marketplace-indexer-prod: &tezos-marketplace-indexer-prod
  environments:
    TZKT_URL: https://api.tzkt.io
    NETWORK: mainnet
  resources:
    limits:
      cpu: '2'
      memory: 3Gi
    requests:
      cpu: 200m
      memory: 512Mi

tezos-marketplace-indexer-rarible:
  enabled: true
  replicas: 1
  <<: *tezos-marketplace-indexer-prod
  resources:
    limits:
      cpu: '2'
      memory: 3Gi
    requests:
      cpu: '1'
      memory: 1384Mi

tezos-marketplace-indexer-marketplaces:
  replicas: 1
  enabled: true
  <<: *tezos-marketplace-indexer-prod
  environments:
    TZKT_URL: https://api.tzkt.io
    NETWORK: mainnet

tezos-marketplace-indexer-metadata:
  replicas: 1
  enabled: true
  <<: *tezos-marketplace-indexer-prod
  environments:
    TZKT_URL: https://api.tzkt.io
    NETWORK: mainnet

tezos-marketplace-indexer-royalties:
  replicas: 1
  enabled: true
  environments:
    TZKT_URL: https://api.tzkt.io
  resources:
    limits:
      cpu: '2'
      memory: 3Gi
    requests:
      cpu: '1'
      memory: 1384Mi

tezos-marketplace-indexer-ophash:
  replicas: 1
  enabled: true
  <<: *tezos-marketplace-indexer-prod
  environments:
    TZKT_URL: https://api.tzkt.io
    NETWORK: mainnet

tzkt:
  enabled: false
  replicas: 0
  instances: ['aux-tzkt']
  api:
    resources:
      limits:
        cpu: '2'
        memory: 3Gi
      requests:
        cpu: '1'
        memory: 1384Mi
  indexer:
    resources:
      limits:
        cpu: 400m
        memory: 2Gi
      requests:
        cpu: 200m
        memory: 384Mi
  network: mainnet
  service:
    nodePort: 30140
  environments:
    TezosNode__Endpoint: https://rpc.tzkt.io/mainnet
    TokenMetadata__DipDup__Url: https://metadata.dipdup.net/v1/graphql
  ingress:
    hostname: 'tezos-tzkt.rarible.int'
    path: /
    ingressClassName: ingress-internal
    backend:
      service: tzkt
      port: http
